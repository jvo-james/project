<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Make Heaven Crowded — Wear Your Faith</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800&family=Roboto+Slab:wght@400;700&display=swap" rel="stylesheet">
  <meta name="description" content="Make Heaven Crowded — a faith-driven online shop and gospel hub. Shop Christian apparel, donate, read devotionals, and join the movement." />
<meta charset="utf-8" />  

  <style>
/* ==========================================================================
   Make Heaven Crowded — Complete Stylesheet
   - Light, warm palette with gold accent
   - Responsive layout, alternating section backgrounds
   - Polished hero, product cards, gospel hub, donate, modals & drawer
   - Fonts expected: Montserrat (UI) + Roboto Slab (display)
   ========================================================================== */

/* -------------------------
   VARIABLES
   ------------------------- */
:root{
  --max-width:1040px;           /* page content width */
  --bg: #f7f6f3;                /* warm off-white page background */
  --card: #ffffff;              /* card surfaces */
  --muted: #6b6f75;             /* muted text */
  --text: #0b0b0c;              /* main text */
  --accent-gold: #cf9b43;       /* primary gold */
  --accent-warm: #b24a2a;       /* warm deep accent */
  --glass: rgba(11,11,12,0.03);
  --shadow-lg: 0 20px 60px rgba(11,11,12,0.06);
  --shadow-sm: 0 8px 18px rgba(11,11,12,0.06);
  --radius: 12px;
  --header-h: 64px;
  --ease: cubic-bezier(.2,.9,.25,1);
  --dur-fast: 160ms;
  --dur-med: 320ms;
  --dur-slow: 560ms;
}

/* -------------------------
   BASE
   ------------------------- */
*{box-sizing:border-box}
html,body{height:100%}
html,body{margin:0;padding:0;font-family:'Montserrat',system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;color:var(--text);background:radial-gradient(800px 320px at 8% 8%, rgba(207,155,67,0.03), transparent), var(--bg);-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;line-height:1.45}
.container{max-width:var(--max-width);margin:0 auto;padding:0 14px}
a{color:inherit;text-decoration:none}
img{display:block;max-width:100%;height:auto}
.visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}

/* typography */
h1,h2,h3,h4,h5{margin:0;font-weight:700;color:var(--text)}
p{margin:0}
.small{font-size:13px}
.muted{color:var(--muted)}

/* focus / accessibility */
:focus{outline:3px solid rgba(207,155,67,0.14);outline-offset:3px;border-radius:8px}

/* -------------------------
   BUTTONS / ICONS
   ------------------------- */
.btn{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:10px;font-weight:800;border:0;cursor:pointer;transition:transform var(--dur-fast) var(--ease), box-shadow var(--dur-fast) var(--ease)}
.btn.small{padding:8px 10px;font-weight:700;border-radius:8px;font-size:14px}
.btn.ghost{background:transparent;border:1px solid rgba(11,11,12,0.06);color:var(--text)}
.btn.primary{background:linear-gradient(90deg,var(--accent-gold), #f0c88a);color:#111;box-shadow:0 10px 28px rgba(207,155,67,0.09)}
.btn.primary:hover{transform:translateY(-2px)}
.btn.outline{background:transparent;border:1px dashed rgba(11,11,12,0.06);color:var(--text)}
.icon-btn{display:inline-grid;place-items:center;width:42px;height:42px;border-radius:10px;border:1px solid transparent;background:transparent;cursor:pointer}
.icon-btn svg{display:block}
.badge{display:inline-block;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,rgba(207,155,67,0.08),transparent);color:var(--accent-gold);font-weight:800;font-size:13px}

/* small helpers */
.row{display:flex;gap:12px;align-items:center}
.column{display:flex;flex-direction:column;gap:12px}
.center{display:grid;place-items:center}

/* -------------------------
   HEADER / NAV
   ------------------------- */
.site-header{
  position:sticky;top:0;z-index:120;background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.92));backdrop-filter: blur(6px);border-bottom:1px solid rgba(11,11,12,0.03);box-shadow:0 6px 18px rgba(11,11,12,0.03)
}
.nav-inner{height:var(--header-h);display:flex;align-items:center;justify-content:space-between;gap:16px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,var(--accent-gold),var(--accent-warm));display:grid;place-items:center;color:#fff;flex:0 0 52px;box-shadow:0 8px 28px rgba(177,74,42,0.08)}
.brand-text .site-title{font-size:16px;line-height:1}
.brand-text .site-tag{font-size:12px;color:var(--muted);margin-top:2px}

/* nav list */
.main-nav .nav-list{display:flex;gap:14px;align-items:center;list-style:none;padding:0;margin:0}
.main-nav a{font-weight:700;color:var(--muted);padding:8px 10px;border-radius:8px}
.main-nav a:hover{color:var(--text);background:rgba(207,155,67,0.04)}

/* nav actions */
.nav-actions{display:flex;align-items:center;gap:10px}
#cart-count{display:inline-block;margin-left:6px;padding:4px 8px;border-radius:999px;background:linear-gradient(180deg,#fff,#f6e9d6);font-weight:800;font-size:13px}

/* responsive header */
@media (max-width:980px){
  .main-nav .nav-list{display:none}
  .nav-actions .btn.primary{display:none}
  .nav-inner{padding:8px 0}
}

/* -------------------------
   HERO
   ------------------------- */
.hero-section{padding:28px 0 18px;background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,250,240,0.96))}
.hero-grid{display:grid;grid-template-columns:1fr 360px;gap:20px;align-items:start}
.kicker{display:inline-block;padding:8px 12px;background:linear-gradient(90deg, rgba(207,155,67,0.12), transparent);color:var(--accent-gold);font-weight:800;border-radius:999px;font-size:13px}
h2#hero-heading{font-family:'Roboto Slab', serif;font-size:36px;line-height:1.02;margin-top:8px}
h2#hero-heading .accent, mark.accent{display:inline-block;background:linear-gradient(90deg, rgba(207,155,67,0.12), rgba(193,43,43,0.06));padding:4px 8px;border-radius:6px;color:var(--accent-warm)}

.lead{margin-top:12px;color:var(--muted);max-width:62ch;font-size:15px}
.hero-ctas{display:flex;gap:10px;margin-top:18px}
.hero-ctas .btn{min-width:120px}
.feature-list{display:flex;flex-direction:column;gap:10px;margin-top:18px}
.feature-list li{display:flex;gap:12px;align-items:center}
.feature-list .icon{width:36px;height:36px;display:inline-grid;place-items:center;border-radius:8px;background:linear-gradient(180deg, rgba(11,11,12,0.02), transparent);padding:6px}

/* hero meta */
.hero-meta{display:flex;justify-content:space-between;align-items:center;margin-top:16px;gap:12px}
.crowd-meter{display:flex;flex-direction:column;gap:6px;min-width:200px}
progress{width:100%;height:10px;border-radius:8px;appearance:none;background:rgba(11,11,12,0.03);overflow:hidden}
progress::-webkit-progress-bar{background:transparent}
progress::-webkit-progress-value{background:linear-gradient(90deg,var(--accent-gold),var(--accent-warm));border-radius:8px;transition:width .8s var(--ease)}
.quick-links a{margin-right:12px;color:var(--muted);font-weight:700}

/* hero media */
.hero-media{position:relative;display:flex;flex-direction:column;gap:12px;z-index:0}
.mockup-wrap{position:relative;border-radius:14px;overflow:hidden;background:linear-gradient(180deg,#fff,#fbf7ef);box-shadow:var(--shadow-lg);min-height:320px}
.hero-image{width:100%;height:320px;object-fit:cover;display:block}
.highlight-card{position:absolute;left:18px;bottom:16px;display:flex;gap:12px;align-items:center;background:#fff;padding:10px;border-radius:12px;box-shadow:var(--shadow-sm);border:1px solid rgba(11,11,12,0.04);cursor:pointer;transform:translateY(6px);transition:transform var(--dur-med) var(--ease)}
.highlight-card:hover{transform:translateY(-6px)}
.highlight-thumb{width:68px;height:68px;border-radius:10px;object-fit:cover}
.highlight-copy{display:flex;flex-direction:column}
.highlight-copy .price{font-weight:900;color:var(--accent-warm)}

/* verse card */
.verse-card{background:var(--card);padding:12px;border-radius:10px;border:1px solid rgba(11,11,12,0.04);box-shadow:var(--shadow-sm)}
.verse-label{font-weight:800;color:var(--muted);font-size:13px}
blockquote#verseOfDay{margin-top:8px;font-family:'Roboto Slab', serif;font-size:15px;color:var(--text);line-height:1.25}

/* hero decorative elements (ribbon + vignette + trust) */
.hero-decor{position:absolute;right:10px;top:8px;z-index:2;pointer-events:none;max-width:52%}
.hero-ribbon{display:block;width:100%;height:48px;transform:skewX(-12deg);opacity:0.98}
.hero-vignette{position:relative;display:flex;align-items:center;gap:10px;background:linear-gradient(180deg,rgba(255,255,255,0.96),#fff);padding:10px;border-radius:10px;box-shadow:var(--shadow-sm);pointer-events:auto;margin-top:10px}
.hero-vignette .v-item{width:56px;height:56px;border-radius:8px;overflow:hidden;border:1px solid rgba(11,11,12,0.04);flex:0 0 56px}
.hero-vignette .v-item img{width:100%;height:100%;object-fit:cover}
.hero-vignette .v-meta{display:flex;flex-direction:column;gap:6px}
.hero-trust{display:flex;gap:8px;margin-top:10px;pointer-events:auto}

/* ensure hero extras stack on small screens */
@media (max-width:880px){
  .hero-grid{grid-template-columns:1fr;gap:14px}
  .hero-decor{position:static;max-width:100%;transform:none;margin-top:6px;pointer-events:auto}
  .mockup-wrap{min-height:240px}
  .hero-image{height:240px}
}

/* -------------------------
   SECTION / BACKGROUNDS
   ------------------------- */
.section{padding:28px 0}
main > section:nth-of-type(even){background:linear-gradient(180deg, rgba(245,242,238,0.5), rgba(245,242,238,0.5))}
main > section:nth-of-type(odd){background:transparent}

/* section header row */
.section-head{display:flex;justify-content:space-between;align-items:end;gap:12px}
.section-head h3{font-size:20px}
.section-head p{margin-top:4px}

/* -------------------------
   PRODUCT GRID & CARDS
   ------------------------- */
.product-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:18px}
.product-card{background:var(--card);border-radius:12px;padding:10px;border:1px solid rgba(11,11,12,0.04);box-shadow:var(--shadow-sm);display:flex;flex-direction:column;transition:transform var(--dur-fast) var(--ease), box-shadow var(--dur-fast) var(--ease)}
.product-card:hover{transform:translateY(-6px);box-shadow:0 28px 70px rgba(11,11,12,0.06)}
.product-media{display:block;border-radius:10px;overflow:hidden;height:240px;background:linear-gradient(180deg,#faf7f2,#fff)}
.product-media img{width:100%;height:100%;object-fit:cover}
.product-body{padding:10px 6px 6px;display:flex;flex-direction:column;gap:8px}
.product-body h4{font-size:16px}
.product-verse{color:var(--muted)}
.product-actions{display:flex;gap:8px;justify-content:space-between;align-items:center;margin-top:auto}
.price{font-weight:900;color:var(--accent-warm);font-size:17px}

/* responsive product layouts */
@media (max-width:1100px){
  .product-grid{grid-template-columns:repeat(2,1fr)}
}
@media (max-width:600px){
  .product-grid{grid-template-columns:1fr}
}

/* -------------------------
   SHOP GRID / ASIDE
   ------------------------- */
.grid-shop{display:grid;grid-template-columns:260px 1fr;gap:18px;margin-top:18px;align-items:start}
.shop-aside .aside-card{background:var(--card);padding:12px;border-radius:10px;border:1px solid rgba(11,11,12,0.04);box-shadow:var(--shadow-sm);margin-bottom:12px}
.shop-list{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid rgba(11,11,12,0.04);background:linear-gradient(180deg,#fff,#fbfbfb);cursor:pointer;font-weight:800}
.chip.active{background:linear-gradient(90deg,var(--accent-gold), #f0c88a);color:#111;box-shadow:0 8px 20px rgba(207,155,67,0.08)}
.search-wrap input{width:220px;padding:10px;border-radius:12px;border:1px solid rgba(11,11,12,0.06);background:#fff}

/* responsive shop */
@media (max-width:880px){
  .grid-shop{grid-template-columns:1fr;gap:12px}
  .shop-list{grid-template-columns:1fr}
  .shop-aside{order:2}
}

/* -------------------------
   GOSPEL / CARDS
   ------------------------- */
.gospel-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:18px}
.card{background:var(--card);padding:14px;border-radius:10px;border:1px solid rgba(11,11,12,0.04);box-shadow:var(--shadow-sm)}
.card-head{display:flex;gap:10px;align-items:center}
.card .muted{margin-top:8px}

/* gospel row: sermon + design generator side-by-side */
.gospel-row{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:20px;align-items:start}
.sermon-card{background:var(--card);border-radius:12px;padding:12px;border:1px solid rgba(11,11,12,0.04);box-shadow:var(--shadow-sm)}
.sermon-label{font-weight:800;color:var(--muted)}
.sermon-media iframe{border-radius:8px}

/* design generator */
.design-generator{background:var(--card);border-radius:12px;padding:12px;border:1px solid rgba(11,11,12,0.04);box-shadow:var(--shadow-sm)}
.design-controls{display:flex;flex-direction:column;gap:10px}
.design-preview{border-radius:10px;overflow:hidden;border:1px solid rgba(11,11,12,0.04);box-shadow:var(--shadow-sm);background:#0b0f13;padding:10px}
.design-actions{display:flex;gap:8px;justify-content:flex-end}
.design-controls input, .design-controls select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(11,11,12,0.06);background:#fff}

/* sticky preview on large screens */
@media (min-width:1100px){
  .gospel-row .design-generator{position:sticky;top:92px}
}
@media (max-width:880px){
  .gospel-grid{grid-template-columns:1fr}
  .gospel-row{grid-template-columns:1fr;gap:12px}
}

/* -------------------------
   DONATE / FORMS
   ------------------------- */
.donation-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-top:14px}
.donate-card{background:linear-gradient(180deg,#fff,#fff);padding:14px;border-radius:12px;border:1px solid rgba(11,11,12,0.04);text-align:center;box-shadow:var(--shadow-sm)}
.donate-form{background:linear-gradient(180deg,#fff,#fff);padding:14px;border-radius:12px;border:1px solid rgba(11,11,12,0.04)}
.transparency{margin-top:14px;background:linear-gradient(180deg,#fff,#fff);padding:12px;border-radius:12px;border:1px solid rgba(11,11,12,0.04)}

/* responsive donate */
@media (max-width:880px){
  .donation-grid{grid-template-columns:1fr}
}

/* -------------------------
   ARTICLES / ABOUT
   ------------------------- */
.articles-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:18px}
.article-card{background:var(--card);padding:14px;border-radius:12px;border:1px solid rgba(11,11,12,0.04);box-shadow:var(--shadow-sm)}
.about-grid{display:grid;grid-template-columns:1fr 320px;gap:18px}
.values-list{list-style:none;padding:0;margin:12px 0 0 0;display:flex;flex-direction:column;gap:8px}

/* responsive article & about */
@media (max-width:880px){
  .articles-grid{grid-template-columns:1fr}
  .about-grid{grid-template-columns:1fr}
}

/* -------------------------
   CONTACT / PRAYER / NEWSLETTER
   ------------------------- */
.contact-grid{display:grid;grid-template-columns:1fr 320px;gap:18px}
.newsletter-card{background:var(--card);padding:12px;border-radius:10px;border:1px solid rgba(11,11,12,0.04);box-shadow:var(--shadow-sm)}
@media (max-width:880px){
  .contact-grid{grid-template-columns:1fr}
}

/* -------------------------
   MODALS & DRAWER
   ------------------------- */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(8,10,12,0.45);z-index:1400}
.modal[aria-hidden="false"]{display:flex}
.modal-panel{background:linear-gradient(180deg,#fff,#fbf8f0);border-radius:14px;padding:18px;max-width:920px;width:92%;box-shadow:0 30px 90px rgba(11,11,12,0.6);border:1px solid rgba(11,11,12,0.05)}
.quickview-grid{display:grid;grid-template-columns:1fr 360px;gap:16px}

/* cart drawer */
.drawer{position:fixed;right:0;top:0;height:100%;width:420px;display:none;background:linear-gradient(180deg,#fff,#fbfbf8);box-shadow:-20px 0 60px rgba(11,11,12,0.12);z-index:1300;padding:18px;border-left:1px solid rgba(11,11,12,0.03);box-sizing:border-box}
.drawer[aria-hidden="false"]{display:block}
.drawer-head{display:flex;justify-content:space-between;align-items:center}
.drawer-body{margin-top:12px;overflow:auto;max-height:calc(100% - 200px)}
.cart-item{display:flex;gap:12px;align-items:flex-start;padding:10px 0;border-bottom:1px dashed rgba(11,11,12,0.03)}
.cart-thumb img{width:84px;height:84px;object-fit:cover;border-radius:8px}
.cart-meta{flex:1}
.cart-actions{display:flex;flex-direction:column;gap:8px;align-items:flex-end}
.qty-row{display:flex;align-items:center;gap:6px}
.qty-input{width:56px;padding:6px;border-radius:8px;text-align:center;border:1px solid rgba(11,11,12,0.06)}

/* drawer footer */
.drawer-foot{position:absolute;left:18px;right:18px;bottom:18px;display:flex;justify-content:space-between;align-items:center;padding-top:10px}
.drawer-foot .btn{min-width:160px}

/* -------------------------
   FOOTER
   ------------------------- */
.site-footer{background:linear-gradient(180deg,#fff,#fbfbf6);padding:20px 0;border-top:1px solid rgba(11,11,12,0.03)}
.footer-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:18px;align-items:start}
.footer-brand h4{margin-bottom:6px}
.footer-nav ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}

/* -------------------------
   ANIMATIONS & UX
   ------------------------- */
.section, .hero-section{opacity:0;transform:translateY(6px);animation:fadeUp var(--dur-slow) var(--ease) forwards}
@keyframes fadeUp{to{opacity:1;transform:none}}
.btn.primary{position:relative;overflow:hidden}
.btn.primary::after{content:'';position:absolute;left:-30%;top:0;width:30%;height:100%;transform:skewX(-12deg);background:linear-gradient(90deg,rgba(255,255,255,0.18),rgba(255,255,255,0.06));opacity:0;transition:opacity .35s, left .6s}
.btn.primary:hover::after{left:120%;opacity:1}
.mhc-toast{transition:opacity .28s ease, transform .2s ease}

/* reduce motion preference */
@media (prefers-reduced-motion: reduce){
  *{animation-duration:0s!important;transition-duration:0s!important;scroll-behavior:auto!important}
}

/* -------------------------
   SMALL SCREEN ADJUSTMENTS
   ------------------------- */
@media (max-width:520px){
  .nav-inner{padding:8px 6px}
  .brand-text .site-title{font-size:15px}
  h2#hero-heading{font-size:26px}
  .hero-image{height:200px}
  .product-card{padding:8px}
  .container{padding:0 12px}
}

/* -------------------------
   POLISH / FALLBACKS
   ------------------------- */
/* ensure no accidental horizontal scroll */
html,body{overflow-x:hidden}

/* helper class for visually reducing gaps in custom spots */
.tight {margin:0;padding:0}

/* final safety: ensure hero decorative svg doesn't intercept pointer events */
.hero-decor svg, .hero-decor img {pointer-events:none}

    /* ========== Community Marquee Styles ========== */
.community-section{padding:28px 0 36px}
.community-section .container{max-width:var(--max-width);padding:0 14px}

/* marquee frame */
.marquee{overflow:hidden;width:100%;margin-top:6px;border-radius:14px;position:relative;padding:12px 0;background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(250,248,244,0.9));box-shadow:0 8px 30px rgba(11,11,12,0.03)}
.marquee-track{display:flex;gap:18px;align-items:center;will-change:transform; /* animation controlled via CSS variable */ 
  animation: marquee-left var(--marquee-duration, 28s) linear infinite;
  padding-left:18px;
}
/* make sure repeated group sits seamlessly */
.marquee-item{flex:0 0 320px;display:block;border-radius:12px;overflow:hidden;background:var(--card);box-shadow:0 12px 36px rgba(11,11,12,0.06);transform:rotate(-1.5deg);transition:transform .22s var(--ease)}
.marquee-item:nth-child(3n){transform:rotate(1.2deg)}
.marquee-item img{width:100%;height:200px;object-fit:cover;display:block}

/* hover/focus micro-lift */
.marquee-item:hover{transform:scale(1.03) rotate(0deg);transition:transform .22s var(--ease)}
.marquee-track:focus{outline:2px solid rgba(207,155,67,0.12);outline-offset:6px}

/* reduce item size on smaller screens */
@media (max-width:1100px){
  .marquee-item{flex:0 0 260px}
  .marquee-item img{height:170px}
}
@media (max-width:640px){
  .marquee-item{flex:0 0 200px}
  .marquee-item img{height:140px}
  .marquee-track{gap:12px}
}

/* keyframes: because we duplicate the items and animate -50%, loop is seamless */
@keyframes marquee-left {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); }
}

/* reduce motion preference support */
@media (prefers-reduced-motion: reduce) {
  .marquee-track { animation: none !important; transform: none !important; }
}

/* small polish — keep marquee visible above background elements */
.marquee, .marquee-track, .marquee-item{z-index:1}


</style>

  
</head>

  <body>
  <!-- ==========================
       HEADER / NAV
       ========================== -->
  <header class="site-header" role="banner">
    <div class="container nav-inner">
      <a href="#home" class="brand" aria-label="Make Heaven Crowded home">
        <div class="logo" aria-hidden="true">
          <!-- Cross + crowd icon -->
          <svg width="44" height="44" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <rect x="0" y="0" width="24" height="24" rx="6" fill="currentColor" opacity="0.06"/>
            <path d="M11 3h2v6h6v2h-6v6h-2v-6H5V9h6V3z" fill="currentColor" />
          </svg>
        </div>
        <div class="brand-text">
          <h1 class="site-title">Make Heaven Crowded</h1>
          <p class="site-tag">Wear the mission · Share the Word</p>
        </div>
      </a>

      <nav class="main-nav" role="navigation" aria-label="Main navigation">
        <ul class="nav-list">
          <li><a href="#home">Home</a></li>
          <li><a href="#shop">Shop</a></li>
          <li><a href="#gospel">Jesus Factor</a></li>
          <li><a href="#read">Read & Grow</a></li>
          <li><a href="#donate">Donate</a></li>
          <li><a href="#about">About</a></li>
        </ul>
      </nav>

      <div class="nav-actions">
        <button class="icon-btn" id="searchBtn" aria-label="Search">🔎</button>
        <button class="icon-btn" id="cartBtn" aria-label="Open cart">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M7 4h-2l-1 2h2l3.6 7.59-1.35 2.45a1 1 0 00.9 1.49h9v-2h-8.1l.6-1.09L19 6H7z" fill="currentColor"/>
          </svg>
          <span id="cart-count" aria-live="polite">0</span>
        </button>
        <a href="#shop" class="btn primary" id="ctaShop">Shop Now</a>
      </div>
    </div>
  </header>

  <!-- ==========================
       MAIN
       ========================== -->
  <main id="main" role="main">

    <!-- HERO (60% visual professionalism) -->
    <section id="home" class="hero-section" aria-labelledby="hero-heading">
      <div class="container hero-grid">

        <!-- LEFT: story, mission, CTAs -->
        <div class="hero-content">
          <span class="kicker">NEW DROP — Faith Collection</span>
          <h2 id="hero-heading">Make Heaven Crowded<br><mark class="accent">Wear the Mission. Start the Conversation.</mark></h2>
          <p class="lead">A movement disguised as apparel. Scripture-inscribed tees, conversation starters, and ministry resources — half shop, half gospel hub. Every purchase fuels outreach.</p>

          <div class="hero-ctas" style="margin-top:18px">
            <a href="#shop" class="btn primary">Shop Collection</a>
            <a href="#gospel" class="btn ghost">Read Devotionals</a>
            <a href="#donate" class="btn outline">Donate</a>
          </div>

          <ul class="feature-list" aria-hidden="true" style="margin-top:18px">
            <li>
              <svg class="icon" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 2L15 8l6 .5-4.5 3.5L18 20l-6-4-6 4 1.5-8.0L2 8.5 8 8z" fill="currentColor"/>
              </svg>
              <div>
                <strong>Purpose-Led</strong>
                <p class="muted small">Portion of profits funds outreach</p>
              </div>
            </li>
            <li>
              <svg class="icon" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 2l2 5h5l-4 3 2 5-4-3-4 3 2-5L5 7h5z" fill="currentColor"/>
              </svg>
              <div>
                <strong>Gospel First</strong>
                <p class="muted small">Devotionals • Testimonies • Verse of the Day</p>
              </div>
            </li>
          </ul>

          <div class="hero-meta" style="margin-top:18px">
            <div class="crowd-meter" aria-hidden="true">
              <label class="muted small">Crowd Meter</label>
              <progress max="10000" value="3128"></progress>
              <div class="muted small">3,128 people joined the movement</div>
            </div>

            <div class="quick-links" aria-hidden="true">
              <a class="muted small" href="#read">Read</a>
              <a class="muted small" href="#gospel">Jesus Factor</a>
              <a class="muted small" href="#shop">Shop</a>
            </div>
          </div>
        </div>

        <!-- RIGHT: hero visual / mockup + verse card -->
        <aside class="hero-media" aria-hidden="false">
          <div class="mockup-wrap">
            <img src="/assets/hero-people.jpg" alt="People wearing Make Heaven Crowded apparel" class="hero-image" />

            <!-- floating product highlight -->
            <button class="highlight-card" data-product-id="mhc-hd-01" aria-label="Featured product: Crowd Hoodie">
              <img src="/assets/crowd-hoodie.jpg" alt="Crowd Hoodie" class="highlight-thumb" />
              <div class="highlight-copy">
                <div class="small muted">Featured</div>
                <strong>Crowd Hoodie</strong>
                <div class="price">$48</div>
                <span class="btn small" role="link">Buy</span>
              </div>
            </button>
          </div>

          <!-- HERO ENHANCEMENTS: decorative shapes + product vignette + trust strip -->
          <div class="hero-decor" aria-hidden="true">
            <svg class="hero-ribbon" viewBox="0 0 100 20" preserveAspectRatio="none" aria-hidden="true">
              <defs>
                <linearGradient id="gRibbon" x1="0" x2="1">
                  <stop offset="0" stop-color="#f6d7a1" stop-opacity="0.95"/>
                  <stop offset="1" stop-color="#cf9b43" stop-opacity="0.95"/>
                </linearGradient>
                <pattern id="dots" width="6" height="6" patternUnits="userSpaceOnUse">
                  <circle cx="1" cy="1" r="0.7" fill="rgba(255,255,255,0.12)"/>
                </pattern>
              </defs>
              <rect x="0" y="0" width="100" height="20" fill="url(#gRibbon)"/>
              <rect x="0" y="0" width="100" height="20" fill="url(#dots)" opacity="0.18"/>
            </svg>

            <div class="hero-vignette" role="list" aria-label="Featured products">
              <div class="v-item" role="listitem"><img src="/assets/saved-tee.jpg" alt="Saved Tee" /></div>
              <div class="v-item" role="listitem"><img src="/assets/crowd-hoodie.jpg" alt="Crowd Hoodie" /></div>
              <div class="v-item" role="listitem"><img src="/assets/grace-tee.jpg" alt="Grace Tee" /></div>
              <div class="v-meta">
                <div class="small muted">Shop & Support Missions</div>
                <a class="btn small ghost" href="#shop">Browse Shop</a>
              </div>
            </div>

            <div class="hero-trust" aria-hidden="true">
              <span class="badge">Ethical Production</span>
              <span class="badge">Donations Supported</span>
              <span class="badge">Free Shipping $80+</span>
            </div>
          </div>
          <!-- /hero-decor -->

          <div class="verse-card" role="region" aria-label="Verse of the day" style="margin-top:14px">
            <div class="verse-label">Verse of the Day</div>
            <blockquote id="verseOfDay">— John 3:16 — For God so loved the world...</blockquote>
            <a class="muted small" href="#read">Read more »</a>
          </div>
        </aside>

      </div>
    </section>

    <!-- ==========================
         FEATURED PRODUCTS / SHOP PREVIEW (heavy focus)
         ========================== -->
    <section id="featured" class="section">
      <div class="container">
        <header class="section-head">
          <div>
            <h3>Featured Drops</h3>
            <p class="muted small">Best sellers & latest releases — faith forward designs.</p>
          </div>
          <div class="section-actions">
            <a class="muted small" href="#shop">View full catalog</a>
          </div>
        </header>

        <div class="product-grid" id="featuredGrid" aria-live="polite">
          <!-- JS will inject featured product cards here -->
        </div>
      </div>
    </section>

    <!-- FULL SHOP with filters -->
    <section id="shop" class="section" aria-labelledby="shop-heading">
      <div class="container">
        <div class="section-head">
          <div>
            <h3 id="shop-heading">Shop</h3>
            <p class="muted small">T-Shirts • Hoodies • Tank Tops • Sweatshirts • Shorts</p>
          </div>

          <div class="shop-tools">
            <div class="search-wrap" role="search">
              <label for="siteSearch" class="visually-hidden">Search products</label>
              <input id="siteSearch" type="search" placeholder="Search products or verses" />
            </div>

            <div class="filters" role="toolbar" aria-label="Product categories">
              <button class="chip active" data-cat="all">All</button>
              <button class="chip" data-cat="tshirt">T-Shirts</button>
              <button class="chip" data-cat="hoodie">Hoodies</button>
              <button class="chip" data-cat="tank">Tank Tops</button>
              <button class="chip" data-cat="sweat">Sweatshirts</button>
              <button class="chip" data-cat="shorts">Shorts</button>
            </div>
          </div>

          <!-- single container: grid-shop (no nested .container) -->
          <div class="grid-shop" style="margin-top:18px">
            <aside class="shop-aside" aria-label="Shop filters">
              <div class="aside-card">
                <h4>Sort</h4>
                <select aria-label="Sort products" id="sortProducts">
                  <option value="featured">Featured</option>
                  <option value="new">New</option>
                  <option value="price-asc">Price: Low → High</option>
                  <option value="price-desc">Price: High → Low</option>
                </select>
              </div>

              <div class="aside-card">
                <h4>Price</h4>
                <input type="range" min="0" max="200" value="100" aria-label="Maximum price" />
              </div>

              <div class="aside-card">
                <h4>Sponsor</h4>
                <p class="muted small">Donate to provide evangelism shirts for outreach teams.</p>
                <button class="btn small primary" data-action="sponsor">Sponsor $30</button>
              </div>
            </aside>

            <section class="shop-list" id="shopList" aria-live="polite">
              <!-- full product grid injected by JS -->
            </section>
          </div>
        </div>
      </div>
    </section>

    <!-- ==========================
         GOSPEL HUB / JESUS FACTOR (40% content)
         ========================== -->
    <section id="gospel" class="section" aria-labelledby="gospel-heading">
      <div class="container">
        <header class="section-head">
          <div>
            <h3 id="gospel-heading">Jesus Factor</h3>
            <p class="muted small">Scripture of the day • Short teachings • Testimonies</p>
          </div>
          <div class="section-actions">
            <a class="muted small" href="#read">Go to Read & Grow</a>
          </div>
        </header>

        <div class="gospel-grid" aria-hidden="false">
          <article class="card devotional">
            <div class="card-head">
              <svg class="icon" width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 2l2 5h5l-4 3 2 5-4-3-4 3 2-5L5 7h5z" fill="currentColor" />
              </svg>
              <h4>Devotional: Courage (3 min)</h4>
            </div>
            <p class="muted small">A short reflection on Joshua 1 — how God equips the timid.</p>
            <a class="small" href="#">Read devotional »</a>
          </article>

          <article class="card testimony">
            <div class="card-head">
              <svg class="icon" width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6 4 4 6.5 4c1.74 0 3.41 1 4.5 2.09C12.09 5 13.76 4 15.5 4 18 4 20 6 20 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="currentColor" />
              </svg>
              <h4>Testimony: A Conversation that Led to Christ</h4>
            </div>
            <p class="muted small">How a simple question over a tee turned into a life changed on campus.</p>
            <a class="small" href="#">Read testimony »</a>
          </article>

          <article class="card scripture">
            <div class="card-head">
              <h4>Scripture Highlight</h4>
            </div>
            <blockquote class="muted small">"You are the light of the world." — Matthew 5:14</blockquote>
            <a class="small" href="#">Verse archive »</a>
          </article>
        </div>

        <!-- Gospel row: Featured Sermon (left) + Design Generator (right) -->
        <div class="gospel-row">
          <div class="sermon-card">
            <div class="sermon-body">
              <div class="sermon-label small muted">Featured Sermon</div>
              <h4>Short Message: Bold Witness</h4>
              <p class="muted small">A short, practical message you can share after a conversation. Watch & share with your community.</p>
              <div class="sermon-media" style="margin-top:10px">
                <iframe width="100%" height="180" src="https://www.youtube.com/embed/Vruq4I4RDCU" title="Featured Sermon" frameborder="0" allowfullscreen style="border-radius:8px"></iframe>
              </div>
              <div class="sermon-actions" style="margin-top:12px">
                <a class="btn small primary" href="#read">Read Sermon Notes</a>
                <a class="btn small ghost" href="#gospel">More Teachings</a>
              </div>
            </div>
          </div>

          <div class="design-generator" aria-labelledby="design-generator-heading">
            <h4 id="design-generator-heading">Design Generator</h4>
            <p class="muted small">Customize a verse and preview it on a shirt — add to cart as a custom design.</p>

            <div class="design-controls" style="margin-top:12px;align-items:flex-start">
              <label for="designText" class="visually-hidden">Design text</label>
              <input id="designText" type="text" placeholder="John 3:16 — For God so loved..." />

              <label for="designSize" class="visually-hidden">Size</label>
              <select id="designSize"><option>Small</option><option>Medium</option><option selected>Large</option></select>

              <div class="design-preview" style="margin-left:auto">
                <canvas id="designCanvas" width="300" height="360" aria-hidden="true"></canvas>
              </div>

              <div class="design-actions" style="margin-left:auto">
                <button class="btn primary">Preview</button>
                <button class="btn ghost">Add Custom Tee</button>
              </div>
            </div>
          </div>
        </div>
        <!-- end gospel-row -->

      </div>
    </section>

    <!-- ==========================
         DONATE / PARTNER
         ========================== -->
    <section id="donate" class="section" aria-labelledby="donate-heading">
      <div class="container">
        <header class="section-head">
          <div>
            <h3 id="donate-heading">Donate</h3>
            <p class="muted small">Your gifts fuel outreach, free evangelism apparel, and local ministry.</p>
          </div>
        </header>

        <div class="donation-grid" style="margin-top:14px">
          <div class="donate-card">
            <h4>$10</h4>
            <p class="muted small">Transport for an outreach trip</p>
            <button class="btn primary">Give $10</button>
          </div>
          <div class="donate-card">
            <h4>$25</h4>
            <p class="muted small">Printing 100 devotionals</p>
            <button class="btn primary">Give $25</button>
          </div>
          <div class="donate-card">
            <h4>$50</h4>
            <p class="muted small">Provides shirts for 5 evangelists</p>
            <button class="btn primary">Give $50</button>
          </div>

          <div class="donate-form">
            <label for="donCustom">Custom amount</label>
            <input id="donCustom" type="number" placeholder="Enter amount" />
            <div class="pay-methods" style="margin-top:8px;display:flex;gap:8px">
              <button class="btn ghost">PayPal</button>
              <button class="btn ghost">Stripe</button>
              <button class="btn ghost">Mobile Money</button>
            </div>
          </div>
        </div>

        <div class="transparency" style="margin-top:14px">
          <h4>How donations are used</h4>
          <ul class="muted small">
            <li>50% Outreach & Evangelism</li>
            <li>30% Production of free evangelism apparel</li>
            <li>20% Local community projects</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ==========================
         READ & GROW (Articles / Devotionals)
         ========================== -->
    <section id="read" class="section" aria-labelledby="read-heading">
      <div class="container">
        <header class="section-head">
          <div>
            <h3 id="read-heading">Read & Grow</h3>
            <p class="muted small">Short devotionals, teachings, and book excerpts to strengthen faith.</p>
          </div>
          <div class="section-actions"><a class="muted small" href="#">View all articles</a></div>
        </header>

        <div class="articles-grid" style="margin-top:18px">
          <article class="article-card">
            <h4>How to Share Your Faith Naturally</h4>
            <p class="muted small">Practical tips for gospel conversations without pressure.</p>
            <a class="small" href="#">Read »</a>
          </article>

          <article class="article-card">
            <h4>Short Series: Identity in Christ</h4>
            <p class="muted small">A 7-day devotional exploring who we are in Jesus.</p>
            <a class="small" href="#">Read »</a>
          </article>

          <article class="article-card">
            <h4>Testimony: From Doubt to Faith</h4>
            <p class="muted small">A campus encounter that changed a life.</p>
            <a class="small" href="#">Read »</a>
          </article>
        </div>
      </div>
    </section>

    <!-- COMMUNITY MARQUEE — place this directly under the Read & Grow section -->
<section class="community-section" aria-labelledby="community-heading">
  <div class="container">
    <header style="text-align:center; margin-bottom:18px;">
      <h3 id="community-heading" style="font-size:36px; margin-bottom:6px;">Join a community of believers</h3>
      <p class="muted small" style="max-width:72ch; margin:0 auto;">
        You’re not alone — wear the message, meet the movement. See real people from our community sharing life, faith and conversations sparked by Make Heaven Crowded.
      </p>
    </header>

    <div class="marquee" aria-hidden="false" role="group" aria-label="Community photos scrolling">
      <div class="marquee-track" tabindex="0">
        <!-- Replace these `src` paths with your own images -->
        <div class="marquee-item"><img src="/assets/community-1.jpg" alt="Campus outreach with Make Heaven Crowded tee"></div>
        <div class="marquee-item"><img src="/assets/community-2.jpg" alt="Group worship and fellowship"></div>
        <div class="marquee-item"><img src="/assets/community-3.jpg" alt="Design reveal at an event"></div>
        <div class="marquee-item"><img src="/assets/community-4.jpg" alt="Friends sharing testimony"></div>
        <div class="marquee-item"><img src="/assets/community-5.jpg" alt="Street outreach with shirts"></div>

        <!-- duplicate (the script will also ensure duplication) -->
        <div class="marquee-item"><img src="/assets/community-1.jpg" alt="Campus outreach with Make Heaven Crowded tee"></div>
        <div class="marquee-item"><img src="/assets/community-2.jpg" alt="Group worship and fellowship"></div>
        <div class="marquee-item"><img src="/assets/community-3.jpg" alt="Design reveal at an event"></div>
        <div class="marquee-item"><img src="/assets/community-4.jpg" alt="Friends sharing testimony"></div>
        <div class="marquee-item"><img src="/assets/community-5.jpg" alt="Street outreach with shirts"></div>
      </div>
    </div>
  </div>
</section>
<!-- end community marquee -->

    <!-- ==========================
         ABOUT / GET INVOLVED
         ========================== -->
    <section id="about" class="section" aria-labelledby="about-heading">
      <div class="container about-grid">
        <div class="about-copy">
          <h3 id="about-heading">About Make Heaven Crowded</h3>
          <p class="muted">Founded as a campus movement, we believe clothing can be a gentle prompt for gospel conversations — a way to make heaven crowded, one conversation at a time.</p>

          <ul class="values-list" style="margin-top:12px">
            <li><strong>Vision</strong><span class="muted"> Equip believers to witness naturally.</span></li>
            <li><strong>Values</strong><span class="muted"> Scripture • Community • Compassion • Integrity</span></li>
          </ul>

          <div class="cta-row" style="margin-top:12px">
            <button class="btn primary">Become an Ambassador</button>
            <a class="muted" href="#contact">Contact</a>
          </div>
        </div>

        <aside class="about-aside">
          <div class="contact-card" style="padding:12px;border-radius:10px;border:1px solid rgba(11,11,12,0.04);background:var(--card)">
            <h4>Get involved</h4>
            <p class="muted small">Volunteer, partner, or request free evangelism materials.</p>
            <form id="ambassadorForm" style="margin-top:8px">
              <label class="visually-hidden" for="ambName">Name</label>
              <input id="ambName" type="text" placeholder="Your name" />
              <label class="visually-hidden" for="ambEmail">Email</label>
              <input id="ambEmail" type="email" placeholder="Email address" />
              <button class="btn primary" type="submit" style="margin-top:8px">Apply</button>
            </form>

            <div class="socials" style="margin-top:12px;display:flex;gap:8px">
              <a href="#" aria-label="Instagram">Instagram</a>
              <a href="#" aria-label="YouTube">YouTube</a>
              <a href="#" aria-label="TikTok">TikTok</a>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <!-- ==========================
         CONTACT / PRAYER
         ========================== -->
    <section id="contact" class="section" aria-labelledby="contact-heading">
      <div class="container contact-grid">
        <div>
          <h3 id="contact-heading">Prayer & Contact</h3>
          <p class="muted">Share prayer needs or reach out to collaborate. We would love to pray for you.</p>

          <form id="prayerForm" style="margin-top:12px">
            <label class="visually-hidden" for="prayerName">Name</label>
            <input id="prayerName" type="text" placeholder="Your name" />
            <label class="visually-hidden" for="prayerEmail">Email</label>
            <input id="prayerEmail" type="email" placeholder="Email (optional)" />
            <label class="visually-hidden" for="prayerText">Prayer request</label>
            <textarea id="prayerText" rows="4" placeholder="Write your prayer request..."></textarea>
            <button class="btn primary" type="submit" style="margin-top:8px">Send Prayer Request</button>
          </form>
        </div>

        <aside class="newsletter-card" style="padding:12px;border-radius:10px;border:1px solid rgba(11,11,12,0.04);background:var(--card)">
          <h4>Newsletter</h4>
          <p class="muted small">Weekly devotionals, new drops, and ministry updates.</p>
          <form id="newsletterForm" style="margin-top:8px">
            <label class="visually-hidden" for="newsletterEmail">Email</label>
            <input id="newsletterEmail" type="email" placeholder="Email address" />
            <button class="btn primary" type="submit" style="margin-top:8px">Subscribe</button>
          </form>
        </aside>
      </div>
    </section>

  </main>

  <!-- ==========================
       FOOTER
       ========================== -->
  <footer class="site-footer" role="contentinfo">
    <div class="container footer-grid">
      <div class="footer-brand">
        <h4>Make Heaven Crowded</h4>
        <p class="muted small">Wear your faith. Share the Word.</p>
      </div>

      <nav class="footer-nav" aria-label="Footer navigation">
        <h5 class="visually-hidden">Quick links</h5>
        <ul>
          <li><a href="#shop">Shop</a></li>
          <li><a href="#gospel">Jesus Factor</a></li>
          <li><a href="#read">Read & Grow</a></li>
        </ul>
      </nav>

      <div class="footer-contact">
        <h5 class="visually-hidden">Contact</h5>
        <address class="muted small">hello@makeheavencrowded.org<br/>Accra, Ghana</address>
        <div class="legal muted small">© Make Heaven Crowded — All rights reserved.</div>
      </div>
    </div>
  </footer>

  <!-- ==========================
       MODALS, DRAWERS & TEMPLATES (placeholders only)
       ========================== -->
  <!-- Cart drawer / modal (hidden by default) -->
  <aside id="cartDrawer" class="drawer" aria-hidden="true" aria-label="Shopping cart">
    <header class="drawer-head">
      <h3>Cart</h3>
      <button class="icon-btn" aria-label="Close cart">✕</button>
    </header>
    <div class="drawer-body">
      <div class="muted small">Your cart is empty.</div>
    </div>
    <footer class="drawer-foot">
      <div class="totals">Total: <strong id="cartTotal">$0.00</strong></div>
      <button class="btn primary">Checkout</button>
    </footer>
  </aside>

  <!-- generic modal -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <!-- dynamic content injected here -->
    </div>
  </div>

  <!-- product card template -->
  <template id="product-template">
    <article class="product-card" data-product-id="">
      <a class="product-media" href="#">
        <img src="" alt="" />
      </a>
      <div class="product-body">
        <h4 class="product-title"></h4>
        <p class="muted small product-verse"></p>
        <div class="price"></div>
        <div class="product-actions">
          <button class="btn ghost" data-action="quickview">View</button>
          <button class="btn primary" data-action="add-to-cart">Add</button>
        </div>
      </div>
    </article>
  </template>
</body>

  <script>


(() => {
  'use strict';


  const PRODUCTS = [
    { id: 'mhc-ts-01', title: 'Saved Tee', type: 'tshirt', price: 22, colors: ['Black','White'], sizes: ['S','M','L','XL'], verse: 'Romans 10:9', img: '/assets/saved-tee.jpg' },
    { id: 'mhc-ts-02', title: 'Grace Over Grind', type: 'tshirt', price: 24, colors: ['Navy','White'], sizes: ['S','M','L','XL'], verse: 'Ephesians 2:8', img: '/assets/grace-tee.jpg' },
    { id: 'mhc-hd-01', title: 'Crowd Hoodie', type: 'hoodie', price: 48, colors: ['Charcoal','Maroon'], sizes: ['M','L','XL'], verse: 'Matthew 28:19', img: '/assets/crowd-hoodie.jpg' },
    { id: 'mhc-tk-01', title: 'Witness Tank', type: 'tank', price: 20, colors: ['White','Olive'], sizes: ['S','M','L'], verse: 'Acts 1:8', img: '/assets/witness-tank.jpg' },
    { id: 'mhc-sw-01', title: 'Faith Sweatshirt', type: 'sweat', price: 40, colors: ['Cream','Black'], sizes: ['M','L','XL'], verse: 'Philippians 4:13', img: '/assets/faith-sweatshirt.jpg' },
    { id: 'mhc-sh-01', title: 'Kingdom Shorts', type: 'shorts', price: 30, colors: ['Black'], sizes: ['M','L','XL'], verse: 'Colossians 3:23', img: '/assets/kingdom-shorts.jpg' },
  ];

  const VERSES = [
    'John 3:16 — For God so loved the world that he gave his one and only Son...',
    'Romans 8:28 — And we know that in all things God works for the good...',
    'Philippians 4:13 — I can do all things through Christ who strengthens me.',
    'Proverbs 3:5-6 — Trust in the Lord with all your heart...',
    'Matthew 5:14 — You are the light of the world. A city set on a hill cannot be hidden.',
  ];

  // LocalStorage keys
  const CART_KEY = 'mhc_cart_v2';
  const NEWS_KEY = 'mhc_news_v1';

  /* =========================
     DOM helpers
     ========================= */
  const $ = (sel, ctx = document) => ctx.querySelector(sel);
  const $$ = (sel, ctx = document) => Array.from(ctx.querySelectorAll(sel));
  const money = n => '$' + Number(n).toFixed(2);
  const safeText = s => (s === null || s === undefined) ? '' : String(s);

  /* =========================
     ELEMENT REFS
     ========================= */
  const refs = {
    featuredGrid: $('#featuredGrid'),
    productTemplate: $('#product-template'),
    shopList: $('#shopList'),
    chips: $$('.chip'),
    siteSearch: $('#siteSearch'),
    cartBtn: $('#cartBtn'),
    cartCount: $('#cart-count'),
    cartDrawer: $('#cartDrawer'),
    cartDrawerBody: $('#cartDrawer .drawer-body'),
    cartTotal: $('#cartTotal'),
    modal: $('#modal'),
    modalPanel: $('#modal .modal-panel'),
    verseBlock: $('#verseOfDay'),
    designCanvas: $('#designCanvas'),
    designText: $('#designText'),
    designSize: $('#designSize'),
    designPreviewBtn: null, // will attach later if exists
    donCustom: $('#donCustom'),
    ambassadorForm: $('#ambassadorForm'),
    prayerForm: $('#prayerForm'),
    newsletterForm: $('#newsletterForm'),
    highlightCards: $$('.highlight-card'),
    progressEls: $$('progress'),
  };

  /* =========================
     CART API
     ========================= */
  function readCart() {
    try {
      return JSON.parse(localStorage.getItem(CART_KEY) || '[]');
    } catch (e) {
      console.warn('Cart parse error', e);
      return [];
    }
  }
  function writeCart(cart) {
    localStorage.setItem(CART_KEY, JSON.stringify(cart));
    renderCartCount();
    renderCartDrawer();
  }
  function addToCart(product, opts = {}) {
    const cart = readCart();
    // product may be a full product object or id
    let item;
    if (typeof product === 'string') {
      const p = PRODUCTS.find(x => x.id === product) || { id: product, title: product, price: 0, img: '' };
      item = { ...p, qty: 1, opts };
    } else {
      item = { ...product, qty: 1, opts };
    }
    // merge if same id + same opts
    const existingIndex = cart.findIndex(i => i.id === item.id && JSON.stringify(i.opts) === JSON.stringify(item.opts));
    if (existingIndex > -1) {
      cart[existingIndex].qty += 1;
    } else {
      cart.push(item);
    }
    writeCart(cart);
    showToast('Added to cart');
  }
  function removeFromCart(index) {
    const cart = readCart();
    cart.splice(index, 1);
    writeCart(cart);
  }
  function updateQty(index, qty) {
    const cart = readCart();
    if (!cart[index]) return;
    cart[index].qty = Math.max(1, Math.floor(qty) || 1);
    writeCart(cart);
  }
  function cartTotalAmount() {
    const cart = readCart();
    return cart.reduce((s, it) => s + (Number(it.price || 0) * (Number(it.qty) || 1)), 0);
  }

  /* =========================
     RENDERING PRODUCTS
     ========================= */
  function clearChildren(el) {
    while (el.firstChild) el.removeChild(el.firstChild);
  }

  function createProductCard(p) {
    // Use template if available, else build manually
    const tpl = refs.productTemplate;
    if (tpl && tpl.content) {
      const node = tpl.content.cloneNode(true);
      const article = node.querySelector('article');
      article.dataset.productId = p.id;
      const img = article.querySelector('img');
      if (img) { img.src = p.img; img.alt = p.title; }
      const title = article.querySelector('.product-title') || article.querySelector('h4');
      if (title) title.textContent = p.title;
      const verseEl = article.querySelector('.product-verse');
      if (verseEl) verseEl.textContent = p.verse;
      const priceEl = article.querySelector('.price');
      if (priceEl) priceEl.textContent = money(p.price);
      // wire actions
      const quick = article.querySelector('[data-action="quickview"]');
      if (quick) quick.addEventListener('click', e => { openQuickview(p.id); });
      const addBtn = article.querySelector('[data-action="add-to-cart"]');
      if (addBtn) addBtn.addEventListener('click', e => { addToCart(p); });
      return article;
    }

    // fallback manual card
    const card = document.createElement('article');
    card.className = 'product-card';
    card.dataset.productId = p.id;
    card.innerHTML = `
      <a class="product-media" href="#"><img src="${p.img}" alt="${p.title}"></a>
      <div class="product-body">
        <h4 class="product-title">${p.title}</h4>
        <p class="muted small product-verse">${p.verse}</p>
        <div class="price">${money(p.price)}</div>
        <div class="product-actions">
          <button class="btn ghost" data-action="quickview">View</button>
          <button class="btn primary" data-action="add-to-cart">Add</button>
        </div>
      </div>
    `;
    // attach events
    const q = card.querySelector('[data-action="quickview"]');
    if (q) q.addEventListener('click', () => openQuickview(p.id));
    const a = card.querySelector('[data-action="add-to-cart"]');
    if (a) a.addEventListener('click', () => addToCart(p));
    return card;
  }

  function renderFeatured() {
    if (!refs.featuredGrid) return;
    clearChildren(refs.featuredGrid);
    const featured = PRODUCTS.slice(0, 3);
    featured.forEach(p => {
      const card = createProductCard(p);
      refs.featuredGrid.appendChild(card);
    });
  }

  function renderShopList(items = PRODUCTS) {
    if (!refs.shopList) return;
    clearChildren(refs.shopList);
    items.forEach(p => refs.shopList.appendChild(createProductCard(p)));
  }

  /* =========================
     FILTERS + SEARCH
     ========================= */
  function wireFilters() {
    refs.chips.forEach(chip => {
      chip.addEventListener('click', () => {
        const cat = chip.dataset.cat;
        // active style toggling
        refs.chips.forEach(c => c.classList.remove('active'));
        chip.classList.add('active');
        if (!cat || cat === 'all') renderShopList();
        else renderShopList(PRODUCTS.filter(p => p.type === cat));
      });
    });
  }

  function wireSearch() {
    if (!refs.siteSearch) return;
    let timeout = null;
    refs.siteSearch.addEventListener('input', e => {
      clearTimeout(timeout);
      timeout = setTimeout(() => {
        const q = refs.siteSearch.value.trim().toLowerCase();
        if (!q) return renderShopList();
        const results = PRODUCTS.filter(p => (p.title + ' ' + p.verse + ' ' + (p.type||'')).toLowerCase().includes(q));
        renderShopList(results);
      }, 200);
    });
    refs.siteSearch.addEventListener('keydown', e => {
      if (e.key === 'Enter') e.preventDefault();
    });
  }

  /* =========================
     MODAL (generic quickview/modal)
     ========================= */
  function openModal(html, opts = {}) {
    if (!refs.modal || !refs.modalPanel) return;
    refs.modalPanel.innerHTML = '';
    if (typeof html === 'string') {
      refs.modalPanel.innerHTML = html;
    } else if (html instanceof Node) {
      refs.modalPanel.appendChild(html);
    }
    refs.modal.setAttribute('aria-hidden', 'false');
    refs.modal.style.display = 'block';
    // focus the first focusable element inside panel
    const focusable = refs.modalPanel.querySelector('button, a, input, textarea, select');
    if (focusable) focusable.focus();
    // trap simple focus
    document.addEventListener('keydown', modalKeyHandler);
  }

  function closeModal() {
    if (!refs.modal) return;
    refs.modal.setAttribute('aria-hidden', 'true');
    refs.modal.style.display = 'none';
    refs.modalPanel.innerHTML = '';
    document.removeEventListener('keydown', modalKeyHandler);
  }

  function modalKeyHandler(e) {
    if (e.key === 'Escape') closeModal();
  }

  // close modal when clicking overlay
  if (refs.modal) {
    refs.modal.addEventListener('click', (ev) => {
      if (ev.target === refs.modal) closeModal();
    });
  }

  /* =========================
     QUICKVIEW: displays product details in modal
     ========================= */
  function openQuickview(productId) {
    const p = PRODUCTS.find(x => x.id === productId);
    if (!p) {
      openModal(`<div class="modal-body"><p>Product not found.</p><div style="text-align:right"><button class="btn ghost" onclick="document.querySelector('[data-close-modal]')?.click()">Close</button></div></div>`);
      return;
    }
    const html = document.createElement('div');
    html.className = 'quickview';
    html.innerHTML = `
      <div class="quickview-grid">
        <div class="left">
          <img src="${p.img}" alt="${p.title}" style="width:100%;height:auto;border-radius:10px" />
        </div>
        <div class="right">
          <h2>${p.title}</h2>
          <div class="muted small">${p.verse}</div>
          <div class="price" style="margin-top:10px;font-weight:800">${money(p.price)}</div>
          <div style="margin-top:12px">
            <label class="small">Size</label>
            <div class="size-row">${p.sizes.map(s => `<button class="chip size-chip" data-size="${s}">${s}</button>`).join(' ')}</div>
            <label class="small" style="margin-top:10px;display:block">Color</label>
            <div class="color-row">${p.colors.map(c => `<button class="chip color-chip" data-color="${c}">${c}</button>`).join(' ')}</div>
          </div>
          <div style="margin-top:14px;display:flex;gap:8px">
            <button class="btn primary" data-add> Add to cart </button>
            <button class="btn ghost" data-close> Close </button>
          </div>
        </div>
      </div>
    `;
    // wire events inside modal after opening
    openModal(html);
    // size selection
    $$('.size-chip', html).forEach(b => b.addEventListener('click', () => {
      $$('.size-chip', html).forEach(x => x.classList.remove('selected'));
      b.classList.add('selected');
    }));
    $$('.color-chip', html).forEach(b => b.addEventListener('click', () => {
      $$('.color-chip', html).forEach(x => x.classList.remove('selected'));
      b.classList.add('selected');
    }));
    const addBtn = html.querySelector('[data-add]');
    if (addBtn) addBtn.addEventListener('click', () => {
      const size = html.querySelector('.size-chip.selected')?.dataset?.size || null;
      const color = html.querySelector('.color-chip.selected')?.dataset?.color || null;
      addToCart(p, { size, color });
      closeModal();
    });
    const closeBtn = html.querySelector('[data-close]');
    if (closeBtn) closeBtn.addEventListener('click', closeModal);
  }

  /* =========================
     CART DRAWER UI
     ========================= */
  function openCartDrawer() {
    if (!refs.cartDrawer) return;
    refs.cartDrawer.setAttribute('aria-hidden', 'false');
    refs.cartDrawer.style.display = 'block';
    const closeBtn = refs.cartDrawer.querySelector('.drawer-head .icon-btn');
    if (closeBtn) {
      closeBtn.addEventListener('click', closeCartDrawer);
    }
    // trap Esc to close
    document.addEventListener('keydown', cartDrawerKeyHandler);
    refs.cartDrawer.querySelector('button, a, input')?.focus();
  }

  function closeCartDrawer() {
    if (!refs.cartDrawer) return;
    refs.cartDrawer.setAttribute('aria-hidden', 'true');
    refs.cartDrawer.style.display = 'none';
    document.removeEventListener('keydown', cartDrawerKeyHandler);
  }

  function cartDrawerKeyHandler(e) {
    if (e.key === 'Escape') closeCartDrawer();
  }

  function renderCartCount() {
    const count = readCart().reduce((s, it) => s + (Number(it.qty) || 1), 0);
    if (refs.cartCount) refs.cartCount.textContent = count;
  }

  function renderCartDrawer() {
    if (!refs.cartDrawerBody) return;
    clearChildren(refs.cartDrawerBody);
    const cart = readCart();
    if (!cart.length) {
      refs.cartDrawerBody.innerHTML = '<div class="muted small">Your cart is empty.</div>';
      if (refs.cartTotal) refs.cartTotal.textContent = money(0);
      return;
    }
    cart.forEach((it, i) => {
      const itemRow = document.createElement('div');
      itemRow.className = 'cart-item';
      itemRow.innerHTML = `
        <div class="cart-thumb"><img src="${it.img || '/assets/placeholder.png'}" alt="${it.title}" /></div>
        <div class="cart-meta">
          <div class="cart-title">${it.title}</div>
          <div class="muted small">${safeText(it.verse || '')}${it.opts && (it.opts.size || it.opts.color) ? ' • ' + [it.opts.size, it.opts.color].filter(Boolean).join(' / ') : ''}</div>
        </div>
        <div class="cart-actions">
          <div class="cart-price">${money(it.price)}</div>
          <div class="qty-row">
            <button class="icon-btn qty-decrease" data-index="${i}" aria-label="Decrease">−</button>
            <input class="qty-input" data-index="${i}" value="${it.qty}" type="number" min="1" aria-label="Quantity" />
            <button class="icon-btn qty-increase" data-index="${i}" aria-label="Increase">+</button>
          </div>
          <button class="btn ghost remove-item" data-index="${i}">Remove</button>
        </div>
      `;
      // attach events after creating element
      refs.cartDrawerBody.appendChild(itemRow);
    });

    // wire qty controls
    $$('.qty-decrease', refs.cartDrawerBody).forEach(btn => {
      btn.addEventListener('click', e => {
        const i = Number(btn.dataset.index);
        const cart = readCart();
        if (!cart[i]) return;
        cart[i].qty = Math.max(1, (cart[i].qty || 1) - 1);
        writeCart(cart);
      });
    });
    $$('.qty-increase', refs.cartDrawerBody).forEach(btn => {
      btn.addEventListener('click', e => {
        const i = Number(btn.dataset.index);
        const cart = readCart();
        if (!cart[i]) return;
        cart[i].qty = (cart[i].qty || 1) + 1;
        writeCart(cart);
      });
    });
    $$('.qty-input', refs.cartDrawerBody).forEach(input => {
      input.addEventListener('change', e => {
        const i = Number(input.dataset.index);
        updateQty(i, Number(input.value));
      });
      input.addEventListener('keydown', e => { if (e.key === 'Enter') input.blur(); });
    });
    $$('.remove-item', refs.cartDrawerBody).forEach(btn => {
      btn.addEventListener('click', () => {
        const i = Number(btn.dataset.index);
        removeFromCart(i);
      });
    });

    // totals
    if (refs.cartTotal) refs.cartTotal.textContent = money(cartTotalAmount());
    // checkout action (simple)
    const checkoutBtn = refs.cartDrawer.querySelector('.drawer-foot .btn.primary');
    if (checkoutBtn) {
      checkoutBtn.addEventListener('click', () => {
        closeCartDrawer();
        showToast('Checkout placeholder — integrate payment on server.');
      });
    }
  }

  /* =========================
     Verse of the day (deterministic)
     ========================= */
  function getVerseOfDay() {
    const now = new Date();
    const idx = (now.getFullYear() + now.getMonth() + now.getDate()) % VERSES.length;
    return VERSES[idx];
  }

  function renderVerseOfDay() {
    if (!refs.verseBlock) return;
    refs.verseBlock.textContent = getVerseOfDay();
  }

  /* =========================
     Design Generator (canvas)
     ========================= */
  function drawDesignPreview(text) {
    const canvas = refs.designCanvas;
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    // Clear
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    // Background
    ctx.fillStyle = '#0b0f13';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Shirt base
    ctx.fillStyle = '#111';
    ctx.beginPath();
    ctx.moveTo(40, 40);
    ctx.quadraticCurveTo(30, 20, 70, 30);
    ctx.lineTo(canvas.width - 70, 30);
    ctx.quadraticCurveTo(canvas.width - 30, 20, canvas.width - 40, 40);
    ctx.lineTo(canvas.width - 40, canvas.height - 80);
    ctx.quadraticCurveTo(canvas.width / 2, canvas.height - 30, 40, canvas.height - 80);
    ctx.closePath();
    ctx.fill();

    // Shirt text
    ctx.fillStyle = '#fff';
    ctx.font = 'bold 16px Roboto Slab, serif';
    wrapText(ctx, text, canvas.width / 2, 120, canvas.width - 120, 20, true);
  }

  // centered wrap text helper
  function wrapText(ctx, text, centerX, y, maxWidth, lineHeight, center = false) {
    const words = text.split(' ');
    let line = '';
    const lines = [];
    for (let n = 0; n < words.length; n++) {
      const testLine = line + words[n] + ' ';
      const metrics = ctx.measureText(testLine);
      const testWidth = metrics.width;
      if (testWidth > maxWidth && n > 0) {
        lines.push(line.trim());
        line = words[n] + ' ';
      } else {
        line = testLine;
      }
    }
    lines.push(line.trim());
    // draw lines centered
    lines.forEach((ln, i) => {
      ctx.font = (i === 0 ? 'bold 16px Roboto Slab, serif' : '14px Roboto Slab, serif');
      const m = ctx.measureText(ln);
      const x = center ? centerX - (m.width / 2) : 60;
      ctx.fillText(ln, x, y + (i * lineHeight));
    });
  }

  function wireDesignGenerator() {
    if (!refs.designCanvas) return;
    // initial draw with placeholder
    drawDesignPreview((refs.designText && refs.designText.value) || 'John 3:16 — For God so loved the world');
    // preview button hooking
    const previewBtn = document.querySelector('.design-actions .btn.primary') || null;
    if (previewBtn) {
      previewBtn.addEventListener('click', () => {
        const text = (refs.designText && refs.designText.value) || 'John 3:16 — For God so loved the world';
        drawDesignPreview(text);
      });
    }
    // add custom tee button
    const addCustomBtn = document.querySelector('.design-actions .btn.ghost') || null;
    if (addCustomBtn) {
      addCustomBtn.addEventListener('click', () => {
        const text = (refs.designText && refs.designText.value) || 'Custom Verse';
        const size = (refs.designSize && refs.designSize.value) || 'Large';
        // create a simple custom product
        const product = { id: 'custom-' + Date.now(), title: `Custom Tee — ${text.slice(0, 20)}`, type: 'tshirt', price: 28, sizes:[size], colors:['Custom'], verse: text, img: '/assets/custom-preview.jpg' };
        addToCart(product, { customText: text, size });
      });
    }
  }

  /* =========================
     Donation flow (simulated)
     ========================= */
  function wireDonationButtons() {
    // sponsor buttons in the page (data-action="sponsor")
    $$('[data-action="sponsor"]').forEach(btn => {
      btn.addEventListener('click', () => {
        showToast('Sponsor flow started (demo). Integrate gateway server-side for real payments.');
      });
    });
    // pay buttons inside donate card
    $$('.donate-card .btn.primary, .donation .btn.primary, .donation .ghost').forEach(b => {
      // not all pages have these exact selectors; they will be ignored if absent
      b.addEventListener('click', () => showToast('Donation simulated (demo).'));
    });
  }

  /* =========================
     Forms: Ambassador, Prayer, Newsletter, Testimony
     ========================= */
  function wireForms() {
    if (refs.ambassadorForm) {
      refs.ambassadorForm.addEventListener('submit', e => {
        e.preventDefault();
        const name = refs.ambassadorForm.querySelector('#ambName') ? refs.ambassadorForm.querySelector('#ambName').value.trim() : '';
        const email = refs.ambassadorForm.querySelector('#ambEmail') ? refs.ambassadorForm.querySelector('#ambEmail').value.trim() : '';
        if (!name || !email) { alert('Provide name and email.'); return; }
        showToast('Ambassador application received. Thank you!');
        refs.ambassadorForm.reset();
      });
    }

    if (refs.prayerForm) {
      refs.prayerForm.addEventListener('submit', e => {
        e.preventDefault();
        const name = refs.prayerForm.querySelector('#prayerName') ? refs.prayerForm.querySelector('#prayerName').value.trim() : '';
        const text = refs.prayerForm.querySelector('#prayerText') ? refs.prayerForm.querySelector('#prayerText').value.trim() : '';
        if (!text) { alert('Please write your prayer request.'); return; }
        showToast('Prayer request submitted. We will pray for you.');
        refs.prayerForm.reset();
      });
    }

    if (refs.newsletterForm) {
      refs.newsletterForm.addEventListener('submit', e => {
        e.preventDefault();
        const email = refs.newsletterForm.querySelector('#newsletterEmail') ? refs.newsletterForm.querySelector('#newsletterEmail').value.trim() : '';
        if (!email || !email.includes('@')) { alert('Enter a valid email.'); return; }
        localStorage.setItem(NEWS_KEY, email);
        showToast('Subscribed to newsletter. Welcome!');
        refs.newsletterForm.reset();
      });
    }
  }

  /* =========================
     Misc UI helpers: toast
     ========================= */
  let toastTimer = null;
  function showToast(msg, timeout = 1400) {
    // re-use modal area as simple toast (non-blocking)
    const toast = document.createElement('div');
    toast.className = 'mhc-toast';
    toast.setAttribute('role', 'status');
    toast.style.cssText = 'position:fixed;right:18px;bottom:18px;background:#0b1720;color:#fff;padding:12px 16px;border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.5);z-index:1400;font-weight:700';
    toast.textContent = msg;
    document.body.appendChild(toast);
    clearTimeout(toastTimer);
    toastTimer = setTimeout(() => {
      toast.style.transition = 'opacity .3s ease';
      toast.style.opacity = '0';
      setTimeout(() => { toast.remove(); }, 320);
    }, timeout);
  }

  /* =========================
     Highlight card quick buy
     ========================= */
  function wireHighlightCards() {
    refs.highlightCards.forEach(card => {
      card.addEventListener('click', () => {
        const id = card.dataset.productId;
        if (!id) return;
        const p = PRODUCTS.find(x => x.id === id);
        if (!p) { showToast('Featured product not found'); return; }
        addToCart(p);
      });
    });
  }

  /* =========================
     Utilities / initialization
     ========================= */
  function wireGlobalUI() {
    // open cart drawer
    if (refs.cartBtn) refs.cartBtn.addEventListener('click', () => {
      renderCartDrawer();
      openCartDrawer();
    });

    // modal close through escape handled in modalKeyHandler
    // wire close for drawer overlay clicks
    if (refs.cartDrawer) {
      refs.cartDrawer.addEventListener('click', (e) => {
        if (e.target === refs.cartDrawer) closeCartDrawer();
      });
    }

    // close drawer when clicking close icon already wired in renderCartDrawer
  }

  /* =========================
     Initial render & boot
     ========================= */
  function boot() {
    renderFeatured();
    renderShopList();
    renderCartCount();
    renderCartDrawer();
    renderVerseOfDay();
    wireFilters();
    wireSearch();
    wireGlobalUI();
    wireHighlightCards();
    wireDesignGenerator();
    wireDonationButtons();
    wireForms();

    // wire quickview/add-to-cart event delegation for any dynamically created product-cards
    document.body.addEventListener('click', function (e) {
      const a = e.target.closest('[data-action="add-to-cart"]');
      if (a) {
        // find parent product card
        const card = a.closest('[data-product-id]');
        if (card) {
          const id = card.dataset.productId;
          const p = PRODUCTS.find(x => x.id === id);
          if (p) { addToCart(p); }
        }
      }
      const q = e.target.closest('[data-action="quickview"]');
      if (q) {
        const card = q.closest('[data-product-id]');
        if (card) {
          openQuickview(card.dataset.productId);
        }
      }
    });

    // wire chips that may be generated later as well (delegated)
    document.body.addEventListener('click', function(e) {
      const chip = e.target.closest('.chip');
      if (!chip) return;
      // handled earlier by wireFilters only for initial chips; ensure active class toggles
      refs.chips.forEach(c => c.classList.remove('active'));
      chip.classList.add('active');
    });

    // simple history state: update crowd meter progress (example)
    try {
      refs.progressEls.forEach(p => {
        // if it has max attribute and value attr, animate subtly
        const v = Number(p.value) || 0;
        p.value = 0;
        setTimeout(() => { p.value = v; }, 180);
      });
    } catch (e) { /* ignore */ }
  }

  // Expose some functions to console for debugging/testing
  window.MHC = {
    PRODUCTS,
    addToCart,
    readCart,
    writeCart,
    openQuickview,
    openModal,
    closeModal,
    renderVerseOfDay,
    drawDesignPreview,
  };

  // Boot
  document.addEventListener('DOMContentLoaded', boot);
})();
</script>
<script>

  // Community marquee helper — ensures seamless loop, pause on hover/focus, dynamic speed
(function(){
  const tracks = document.querySelectorAll('.marquee-track');
  tracks.forEach(track => {
    // If track children are not duplicated, duplicate them for a seamless loop
    const children = Array.from(track.children);
    if (children.length && !track.dataset.duplicated) {
      // compute total width to choose a good duration if desired
      const totalItems = children.length;
      // duplicate once so CSS animation can shift -50%
      children.forEach(n => track.appendChild(n.cloneNode(true)));
      track.dataset.duplicated = 'true';
    }

    // set a duration based on items (more items -> longer duration)
    const itemCount = track.querySelectorAll('.marquee-item').length;
    // use base speed per item (seconds per 4 items) — tweak multiplier as desired
    const basePer4 = 12; // seconds per 4 items
    const duration = Math.max(12, Math.round((itemCount / 4) * basePer4));
    track.style.setProperty('--marquee-duration', duration + 's');

    // pause on hover & focus for accessibility
    track.addEventListener('mouseenter', () => { track.style.animationPlayState = 'paused'; });
    track.addEventListener('mouseleave', () => { track.style.animationPlayState = 'running'; });
    track.addEventListener('focusin', () => { track.style.animationPlayState = 'paused'; });
    track.addEventListener('focusout', () => { track.style.animationPlayState = 'running'; });

    // keyboard control: space toggles pause
    track.addEventListener('keydown', (ev) => {
      if (ev.key === ' ' || ev.key === 'Spacebar') {
        ev.preventDefault();
        const state = getComputedStyle(track).animationPlayState;
        track.style.animationPlayState = (state === 'running') ? 'paused' : 'running';
      }
    });

    // defensive: if images haven't loaded yet, adjust duration after load
    const imgs = track.querySelectorAll('img');
    let loaded = 0;
    if (imgs.length === 0) return;
    imgs.forEach(img => {
      if (img.complete) { loaded++; }
      else img.addEventListener('load', () => {
        loaded++;
        if (loaded === imgs.length) {
          // optionally you could recalc duration here if you want
        }
      });
    });
  });
})();

</script>
</html>
