<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>gDralien Mint Layout</title>
  <style>
    :root{
      --main-red: #d23a37;   
      --main-blue: #1f3bd6; 
      --main-yellow: #f2cf48;
      --main-green: #17b24b;
      --bg: #ffffff;
      --muted: #222;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;background:var(--bg);font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;color:var(--muted)}
    .page {
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      padding:28px;
    }

    .header {
      text-align:center;
      margin-bottom:16px;
      line-height:1.05;
    }
    .header h1{
      font-size:32px;
      font-weight:800;
      letter-spacing:0.5px;
      margin-bottom:6px;
    }
    .header .subline{
      font-size:22px;
      font-weight:700;
    }
    .header .muted{
      font-size:20px;
      font-weight:700;
      margin-top:6px;
    }

    .main {
      width:100%;
      max-width:1200px;
      display:flex;
      gap:22px;
      align-items:center;
      justify-content:space-between;
    }

    .pie-column {
      width:35%;
      min-width:240px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:18px;
    }
    .legend {
      display:flex;
      gap:10px;
      align-items:center;
      font-size:12px;
      color:#333;
      margin-top:6px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .legend .item {
      display:flex;
      gap:6px;
      align-items:center;
      white-space:nowrap;
    }
    .legend .swatch{
      width:14px;height:14px;border-radius:2px;box-shadow:0 0 0 1px rgba(0,0,0,0.06) inset;
    }

    .pie-wrap{
      width:100%;
      display:flex;
      justify-content:center;
    }
    canvas.pie {
      width:320px;
      height:320px;
      max-width:100%;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      border-radius:50%;
      background:transparent;
    }

    .center-card{
      width:28%;
      min-width:200px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:12px;
    }
    .pixel-frame{
      width:320px;
      height:320px;
      max-width:100%;
      background:var(--main-red);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.12);
      border-radius:6px;
      border: 6px solid rgba(255,255,255,0.05);
    }
    .pixel-frame img{
      width:70%;
      height:auto;
      image-rendering: pixelated;
      transform: translateY(4px);
    }

    .footer {
      width:100%;
      max-width:1200px;
      margin-top:22px;
      text-align:center;
    }
    .footer .line1 {
      font-size:20px;
      font-weight:700;
      margin-bottom:6px;
    }
    .footer .line2 {
      font-size:18px;
      font-weight:800;
      letter-spacing:1px;
    }

    @media (max-width:980px){
      .main{flex-direction:column;align-items:center}
      .pie-column, .center-card{width:100%}
      .center-card{order:-1}
      canvas.pie{width:260px;height:260px}
      .pixel-frame{width:260px;height:260px}
      .header h1{font-size:26px}
      .header .subline{font-size:18px}
    }
  </style>
</head>
<body>
  <div class="page">
    <header class="header" aria-hidden="true">
      <h1>111 Mainnet Draliens</h1>
      <div class="subline">100 WL Slots</div>
      <div class="subline">100 FCFS Slots</div>
      <div class="muted">Mint: 30.12.2025</div>
    </header>

    <main class="main" role="main" aria-label="Mint breakdown and visuals">
      <div class="pie-column" id="leftColumn">
        <div style="height:24px"></div>
        <div class="pie-wrap">
          <canvas class="pie" id="leftPie" width="640" height="640"></canvas>
        </div>
        <div class="legend" id="leftLegend">
          <div class="item"><div class="swatch" style="background:var(--main-red)"></div>WL Auctions</div>
          <div class="item"><div class="swatch" style="background:var(--main-blue)"></div>WL Reserved</div>
          <div class="item"><div class="swatch" style="background:var(--main-yellow)"></div>WL Nomination</div>
          <div class="item"><div class="swatch" style="background:var(--main-green)"></div>Giveaway</div>
        </div>
      </div>

      <div class="center-card" id="centerCard">
        <div class="pixel-frame" aria-hidden="true">
          <img alt="gDralien pixel art" src="image1.gif">
        </div>
        <div style="height:24px"></div>
      </div>

      <div class="pie-column" id="rightColumn">
        <div style="height:24px"></div>
        <div class="pie-wrap">
          <canvas class="pie" id="rightPie" width="640" height="640"></canvas>
        </div>
        <div class="legend" id="rightLegend">
          <div class="item"><div class="swatch" style="background:var(--main-blue)"></div>FCFS Sale</div>
          <div class="item"><div class="swatch" style="background:var(--main-red)"></div>FCFS Nomination</div>
        </div>
      </div>
    </main>

    <footer class="footer" aria-hidden="true">
      <div class="line1">WL and FCFS Sale starts when the Website is ready</div>
      <div class="line2">gDralien</div>
    </footer>
  </div>

  <script>
    function drawPie(canvas, data, colors, options = {}) {
      const ctx = canvas.getContext('2d');
      const DPR = window.devicePixelRatio || 1;
      const w = canvas.width;
      const h = canvas.height;
      canvas.style.width = canvas.getAttribute('width')/2 + 'px';
      canvas.style.height = canvas.getAttribute('height')/2 + 'px';
      canvas.width = w * DPR;
      canvas.height = h * DPR;
      ctx.scale(DPR, DPR);

      const centerX = canvas.width / (2 * DPR);
      const centerY = canvas.height / (2 * DPR);
      const radius = Math.min(centerX, centerY) - 8;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      const total = data.reduce((s,d)=> s + d, 0);
      let startAngle = -Math.PI / 2;

      for (let i = 0; i < data.length; i++) {
        const val = data[i];
        const sliceAngle = (val / total) * Math.PI * 2;
        const endAngle = startAngle + sliceAngle;
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, startAngle, endAngle);
        ctx.closePath();
        ctx.fillStyle = colors[i];
        ctx.fill();

        const midAngle = (startAngle + endAngle) / 2;
        const labelRadius = radius * 0.58;
        const lx = centerX + Math.cos(midAngle) * labelRadius;
        const ly = centerY + Math.sin(midAngle) * labelRadius;

        const pct = Math.round((val/total)*1000)/10; 
        ctx.font = "700 20px 'Segoe UI', Roboto, Arial";
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";

        function luminance(hex) {
          hex = hex.replace('#','');
          const r = parseInt(hex.substring(0,2),16)/255;
          const g = parseInt(hex.substring(2,4),16)/255;
          const b = parseInt(hex.substring(4,6),16)/255;
          const a = [r,g,b].map((c)=> (c <= 0.03928) ? c/12.92 : Math.pow((c+0.055)/1.055, 2.4));
          return 0.2126*a[0] + 0.7152*a[1] + 0.0722*a[2];
        }
        const col = colors[i];
        let textColor = '#fff';
        try {
          textColor = (luminance(col) > 0.55) ? '#222' : '#fff';
        } catch(e){ textColor = '#fff' }

        ctx.fillStyle = textColor;
        ctx.font = (pct < 6 ? "600 16px 'Segoe UI', Roboto, Arial" : "700 20px 'Segoe UI', Roboto, Arial");
        ctx.fillText(pct + "%", lx, ly);

        startAngle = endAngle;
      }

      ctx.beginPath();
      ctx.arc(centerX, centerY, radius + 2, 0, Math.PI*2);
      ctx.lineWidth = 3;
      ctx.strokeStyle = 'rgba(0,0,0,0.04)';
      ctx.stroke();
    }

    (function(){
      const leftData = [31.5, 31.5, 27.0, 9.9];
      const leftColors = ['#d23a37', '#1f3bd6', '#f2cf48', '#17b24b'];
      const leftCanvas = document.getElementById('leftPie');
      drawPie(leftCanvas, leftData, leftColors);

      const rightData = [50, 50];
      const rightColors = ['#1f3bd6', '#d23a37'];
      const rightCanvas = document.getElementById('rightPie');
      drawPie(rightCanvas, rightData, rightColors);

      function resizeAll() {
        [leftCanvas, rightCanvas].forEach(c => {
          const rect = c.getBoundingClientRect();
          c.setAttribute('width', Math.round(rect.width*2));
          c.setAttribute('height', Math.round(rect.height*2));
        });
        drawPie(leftCanvas, leftData, leftColors);
        drawPie(rightCanvas, rightData, rightColors);
      }

      let resizeTimer;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(resizeAll, 120);
      });

      setTimeout(resizeAll, 60);
    })();
  </script>
</body>
</html>
